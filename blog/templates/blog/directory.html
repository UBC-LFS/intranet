{% extends "base.html" %}
{% load wagtailcore_tags %}
{% load template_utils %}

{% block title %}Directory{% endblock %}

{% block body_class %}body-directory{% endblock %}
{% block main_class %}main-directory{% endblock %}
{% block content_class %}content-directory page{% endblock %}

{% block content %}

<div class="two-columns">
  <div class="column left-25">
    {% include 'subpages/left_sidebar.html' with title='Directory' slug='directory' %}
  </div>
  <div class="column right-75">
    <h2 class="page-title">Directory</h2>

    <h6 class="text-secondary">Total Users: {{ users|length }}</h6>

    <table
      class="table table-bordered table-striped table-hover fs-8"
      data-toggle="table"
      data-sortable="true"
      data-classes=""
      data-pagination="true"
      data-search="true"
      data-page-size="25"
      data-page-list="[25, 50, 100, 200, all]"
    >
    <thead>
      <tr>
        <th data-sortable="true">Last Name</th>
        <th data-sortable="true">First Name</th>
        <th data-sortable="true">Title</th>
        <th data-sortable="true">Email</th>
        <th data-sortable="true">Office</th>
        <th data-sortable="true">Phone</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
        <tr>
          <td>{{ user.sn }}</td>
          <td>{{ user.givenName }}</td>
          <td>{{ user.businessTitle|join:", " }}</td>
          <td>{{ user.mail|join:"email"|safe }}</td>
          <td>{{ user.l|join:"<br />"|safe }}</td>
          <td>{{ user.telephoneNumber|join:"<br />"|safe }}</td>
        </tr>
      {% endfor %}
    </tbody>
    </table>
  </div>
</div>

{% endblock %}


{% block extra_js %}
<script type="text/javascript">

</script>
{% endblock %}
